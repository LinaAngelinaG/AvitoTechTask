time="2023-08-26T20:54:03+03:00" level=info msg="create router" func="main.main()" file="app.go:28"
time="2023-08-26T20:54:03+03:00" level=info msg="register user handler" func="main.main()" file="app.go:31"
time="2023-08-26T20:54:03+03:00" level=info msg="start application" func="main.start()" file="app.go:44"
time="2023-08-26T20:54:03+03:00" level=info msg="server is listening port 0.0.0.0:1234" func="main.start()" file="app.go:56"
time="2023-08-27T14:08:31+03:00" level=info msg="create router" func="main.main()" file="app.go:20"
time="2023-08-27T14:08:31+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:23"
time="2023-08-27T14:08:31+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:22"
time="2023-08-27T14:08:31+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:19"
time="2023-08-27T14:08:31+03:00" level=info msg="start application" func="main.start()" file="app.go:37"
time="2023-08-27T14:08:31+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:39"
time="2023-08-27T14:08:31+03:00" level=info msg="server is listening port %s:%s0.0.0.010000" func="main.start()" file="app.go:51"
time="2023-08-27T14:09:32+03:00" level=info msg="create router" func="main.main()" file="app.go:20"
time="2023-08-27T14:09:32+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:23"
time="2023-08-27T14:09:32+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:22"
time="2023-08-27T14:09:32+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:19"
time="2023-08-27T14:09:32+03:00" level=info msg="start application" func="main.start()" file="app.go:37"
time="2023-08-27T14:09:32+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:39"
time="2023-08-27T14:09:32+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:51"
time="2023-08-28T13:51:18+03:00" level=info msg="create router" func="main.main()" file="app.go:22"
time="2023-08-28T13:51:18+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-28T13:51:18+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:22"
time="2023-08-28T13:51:18+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:19"
time="2023-08-28T13:51:18+03:00" level=info msg="start application" func="main.start()" file="app.go:44"
time="2023-08-28T13:51:18+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:46"
time="2023-08-28T13:51:18+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:58"
time="2023-08-28T22:05:33+03:00" level=info msg="create router" func="main.main()" file="app.go:24"
time="2023-08-28T22:05:33+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-28T22:05:33+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:39"
time="2023-08-28T22:05:33+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:05:33+03:00" level=fatal msg="can't scan into dest[0]: cannot assign 4 into int" func="main.startRepositories()" file="app.go:45"
time="2023-08-28T22:06:45+03:00" level=info msg="create router" func="main.main()" file="app.go:24"
time="2023-08-28T22:06:45+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-28T22:06:45+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:39"
time="2023-08-28T22:06:45+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING (segment_id, active)" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:06:45+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"segment_segment_name_key\", details: Key (segment_name)=(AVITO_SEG_TEST_1) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:27"
time="2023-08-28T22:06:45+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING (segment_id, active)" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:06:45+03:00" level=fatal msg="number of field descriptions must equal number of destinations, got 1 and 2" func="main.startRepositories()" file="app.go:49"
time="2023-08-28T22:17:41+03:00" level=info msg="create router" func="main.main()" file="app.go:24"
time="2023-08-28T22:17:41+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-28T22:17:41+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:39"
time="2023-08-28T22:17:41+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:17:41+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"segment_segment_name_key\", details: Key (segment_name)=(AVITO_SEG_TEST_1) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:27"
time="2023-08-28T22:17:41+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:17:41+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"segment_segment_name_key\", details: Key (segment_name)=(AVITO_SEG_TEST_2) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:27"
time="2023-08-28T22:17:41+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)RETURNING segment_id, in_date, out_date" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:67"
time="2023-08-28T22:17:41+03:00" level=fatal msg="can't scan into dest[0]: cannot assign 6 into int" func="main.startRepositories()" file="app.go:54"
time="2023-08-28T22:19:44+03:00" level=info msg="create router" func="main.main()" file="app.go:24"
time="2023-08-28T22:19:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-28T22:19:44+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:39"
time="2023-08-28T22:19:44+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:19:44+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"segment_segment_name_key\", details: Key (segment_name)=(AVITO_SEG_TEST_1) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:27"
time="2023-08-28T22:19:44+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:24"
time="2023-08-28T22:19:44+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"segment_segment_name_key\", details: Key (segment_name)=(AVITO_SEG_TEST_2) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:27"
time="2023-08-28T22:19:44+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)RETURNING segment_id, in_date" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:67"
time="2023-08-28T22:19:44+03:00" level=error msg="SQL error: duplicate key value violates unique constraint \"user_in_segment_pkey\", details: Key (user_id, segment_id)=(1000, 6) already exists., where: , code: 23505, SQL-state: 23505" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:70"
time="2023-08-28T22:19:44+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:22"
time="2023-08-28T22:19:44+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:19"
time="2023-08-28T22:19:44+03:00" level=info msg="start application" func="main.start()" file="app.go:67"
time="2023-08-28T22:19:44+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:69"
time="2023-08-28T22:19:44+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:81"
time="2023-08-29T13:05:41+03:00" level=info msg="create router" func="main.main()" file="app.go:30"
time="2023-08-29T13:05:41+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:05:41+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:45"
time="2023-08-29T13:05:41+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:23"
time="2023-08-29T13:05:41+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:31"
time="2023-08-29T13:05:41+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:05:41+03:00" level=info msg="start application" func="main.start()" file="app.go:76"
time="2023-08-29T13:05:41+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:78"
time="2023-08-29T13:05:41+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:90"
time="2023-08-29T13:07:11+03:00" level=info msg="create router" func="main.main()" file="app.go:30"
time="2023-08-29T13:07:11+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:07:11+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:45"
time="2023-08-29T13:07:11+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:23"
time="2023-08-29T13:07:11+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:31"
time="2023-08-29T13:07:11+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:07:11+03:00" level=info msg="start application" func="main.start()" file="app.go:76"
time="2023-08-29T13:07:11+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:78"
time="2023-08-29T13:07:11+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:90"
time="2023-08-29T13:08:32+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T13:08:32+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:08:32+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T13:08:32+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:23"
time="2023-08-29T13:08:32+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:31"
time="2023-08-29T13:08:32+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:08:32+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T13:08:32+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T13:08:32+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T13:24:55+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T13:24:55+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:24:55+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T13:24:55+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:25"
time="2023-08-29T13:24:55+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:33"
time="2023-08-29T13:24:55+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:24:55+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T13:24:55+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T13:24:55+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T13:25:13+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:46"
time="2023-08-29T13:25:13+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date < current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:110"
time="2023-08-29T13:25:13+03:00" level=error msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:60"
time="2023-08-29T13:28:09+03:00" level=info msg="geting list of segment for user with id 2 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:46"
time="2023-08-29T13:28:09+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date < current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:110"
time="2023-08-29T13:28:09+03:00" level=error msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:60"
time="2023-08-29T13:32:40+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T13:32:40+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:32:40+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T13:32:40+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:25"
time="2023-08-29T13:32:40+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:33"
time="2023-08-29T13:32:40+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:32:40+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T13:32:40+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T13:32:40+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T13:32:44+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:46"
time="2023-08-29T13:32:44+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:110"
time="2023-08-29T13:32:44+03:00" level=error msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:60"
time="2023-08-29T13:48:07+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T13:48:07+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T13:48:07+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T13:48:07+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:25"
time="2023-08-29T13:48:07+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:33"
time="2023-08-29T13:48:07+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T13:48:07+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T13:48:07+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T13:48:07+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T13:48:10+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:46"
time="2023-08-29T13:48:10+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:110"
time="2023-08-29T13:48:10+03:00" level=error msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:60"
time="2023-08-29T14:30:21+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T14:30:21+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T14:30:21+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T14:30:21+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T14:30:21+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T14:30:21+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T14:30:21+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T14:30:21+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T14:30:21+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T14:31:22+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T14:31:22+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T14:31:22+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T14:31:22+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T14:31:22+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T14:31:22+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T14:31:22+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T14:31:22+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T14:31:22+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T14:32:52+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T14:32:52+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T14:32:52+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T14:32:52+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T14:32:52+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T14:32:52+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T14:32:52+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T14:32:52+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T14:32:52+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T14:34:34+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T14:34:34+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T14:34:34+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T14:34:34+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T14:34:34+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T14:34:34+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T14:34:34+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T14:34:34+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T14:34:34+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T14:36:06+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:48"
time="2023-08-29T14:36:06+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:105"
time="2023-08-29T14:36:06+03:00" level=error msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:62"
time="2023-08-29T14:36:53+03:00" level=error msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:36:53+03:00" level=error msg="Invalid request body" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:100"
time="2023-08-29T14:37:15+03:00" level=error msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:37:15+03:00" level=error msg="Invalid request body" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:100"
time="2023-08-29T14:40:33+03:00" level=error msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:40:33+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T14:40:33+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T14:44:11+03:00" level=error msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:44:11+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T14:44:11+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T14:47:24+03:00" level=error msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:47:24+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T14:54:41+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T14:54:41+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T14:54:41+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T14:54:41+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T14:54:41+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T14:54:41+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T14:54:41+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T14:54:41+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T14:54:41+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T14:54:54+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T14:54:54+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:00:31+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T15:00:31+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T15:00:31+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T15:00:31+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:26"
time="2023-08-29T15:00:31+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:34"
time="2023-08-29T15:00:31+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T15:00:31+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T15:00:31+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T15:00:31+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T15:00:36+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:95"
time="2023-08-29T15:00:36+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, null,        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:21:43+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T15:21:43+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T15:21:43+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T15:21:43+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T15:21:43+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T15:21:43+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T15:21:43+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T15:21:43+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T15:21:43+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T15:21:51+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:96"
time="2023-08-29T15:21:51+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:23:13+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:96"
time="2023-08-29T15:23:13+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:23:13+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:23:43+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:96"
time="2023-08-29T15:23:43+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, DEFAULT)" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegments()" file="postgres.go:66"
time="2023-08-29T15:26:08+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T15:26:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T15:26:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T15:26:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T15:26:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T15:26:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T15:26:08+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T15:26:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T15:26:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T15:26:11+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:96"
time="2023-08-29T15:28:53+03:00" level=info msg="start add-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:96"
time="2023-08-29T18:33:02+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:33:02+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:33:02+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:33:02+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T18:33:02+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T18:33:02+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:33:02+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:33:02+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:33:02+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:33:34+03:00" level=info msg="start add-user-segments without period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:113"
time="2023-08-29T18:34:27+03:00" level=info msg="start add-user-segments without period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:113"
time="2023-08-29T18:34:57+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:34:57+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:34:57+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:34:57+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T18:34:57+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T18:34:57+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:34:57+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:34:57+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:34:57+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:35:02+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:107"
time="2023-08-29T18:35:32+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:107"
time="2023-08-29T18:35:57+03:00" level=info msg="start add-user-segments without period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:113"
time="2023-08-29T18:36:52+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:36:52+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:36:52+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:36:52+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:28"
time="2023-08-29T18:36:52+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:36"
time="2023-08-29T18:36:52+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:36:52+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:36:52+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:36:52+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:36:54+03:00" level=info msg="start add-user-segments without period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:117"
time="2023-08-29T18:37:33+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:37:33+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:37:33+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:37:33+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:28"
time="2023-08-29T18:37:33+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:36"
time="2023-08-29T18:37:33+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:37:33+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:37:33+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:37:33+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:37:35+03:00" level=info msg="start add-user-segments without period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:117"
time="2023-08-29T18:38:10+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:111"
time="2023-08-29T18:41:14+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:41:14+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:41:14+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:41:14+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T18:41:14+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T18:41:14+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:41:14+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:41:14+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:41:14+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:41:18+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:105"
time="2023-08-29T18:41:18+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, current_timestamp + $3 * (interval '1 day'))" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegmentsWithPeriod()" file="postgres.go:87"
time="2023-08-29T18:52:08+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:52:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:52:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:52:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T18:52:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T18:52:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:52:08+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:52:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:52:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:53:39+03:00" level=info msg="start delete-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).DeleteListOfSegments()" file="handler.go:78"
time="2023-08-29T18:53:39+03:00" level=trace msg="SQL query: UPDATE user_in_segment SET out_date = current_timestamp        WHERE user_id = $1 AND               segment_id = (SELECT segment_id                              FROM segment                              WHERE segment_name = $2)" func="AvitoTechTask/internal/userinsegment/db.repository.DeleteFromSegment()" file="postgres.go:47"
time="2023-08-29T18:58:48+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T18:58:48+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T18:58:48+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T18:58:48+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T18:58:48+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T18:58:48+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T18:58:48+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T18:58:48+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T18:58:48+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T18:58:51+03:00" level=info msg="start delete-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).DeleteListOfSegments()" file="handler.go:78"
time="2023-08-29T18:58:51+03:00" level=trace msg="SQL query: UPDATE user_in_segment SET out_date = current_timestamp        WHERE user_id = $1 AND               segment_id = (SELECT segment_id                              FROM segment                              WHERE segment_name = $2)" func="AvitoTechTask/internal/userinsegment/db.repository.DeleteFromSegment()" file="postgres.go:47"
time="2023-08-29T19:00:08+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:00:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:00:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:00:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:00:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:00:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T19:00:08+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:00:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:00:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:00:10+03:00" level=info msg="start delete-user-segments" func="AvitoTechTask/internal/userinsegment.(*handler).DeleteListOfSegments()" file="handler.go:78"
time="2023-08-29T19:00:10+03:00" level=trace msg="SQL query: UPDATE user_in_segment SET out_date = current_timestamp        WHERE user_id = $1 AND               segment_id = (SELECT segment_id                              FROM segment                              WHERE segment_name = $2)" func="AvitoTechTask/internal/userinsegment/db.repository.DeleteFromSegment()" file="postgres.go:47"
time="2023-08-29T19:05:06+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:05:06+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:05:06+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:05:06+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:05:06+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:05:06+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T19:05:06+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:05:06+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:05:06+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:05:31+03:00" level=info msg="there is segment_name: \"TEST_1M\"" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:44"
time="2023-08-29T19:05:31+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-29T19:05:40+03:00" level=info msg="there is segment_name: TEST_1M" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:44"
time="2023-08-29T19:05:40+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) RETURNING segment_id, active" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-29T19:07:43+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:07:43+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:07:43+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:07:43+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:07:43+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:07:43+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T19:07:43+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:07:43+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:07:43+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:08:03+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:08:03+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:08:03+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:08:03+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:08:03+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:08:03+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T19:08:03+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:08:03+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:08:03+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:08:08+03:00" level=info msg="there is segment_name: TEST_1M" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:44"
time="2023-08-29T19:08:08+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:30"
time="2023-08-29T19:08:28+03:00" level=info msg="there is segment_name: TEST_2M" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:44"
time="2023-08-29T19:08:28+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:30"
time="2023-08-29T19:16:36+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:16:36+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:16:36+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:16:36+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:16:36+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:16:36+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:16:36+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:16:36+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:16:36+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:17:12+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:17:12+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:53"
time="2023-08-29T19:17:12+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T19:18:45+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:18:45+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:18:45+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:18:45+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:18:45+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:18:45+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:18:45+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:18:45+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:18:45+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:18:54+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:18:54+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:53"
time="2023-08-29T19:18:54+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T19:19:59+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:19:59+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:19:59+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:19:59+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:19:59+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:19:59+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:19:59+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:19:59+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:19:59+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:20:00+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:20:00+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T19:20:00+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T19:25:37+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:25:37+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:25:37+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:25:37+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:25:37+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:25:37+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:25:37+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:25:37+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:25:37+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:25:39+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:25:39+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T19:25:39+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T19:26:05+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:26:05+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:26:05+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:26:05+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:26:05+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:26:05+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:26:05+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:26:05+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:26:05+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:26:07+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:26:07+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T19:26:07+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T19:29:48+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T19:29:48+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T19:29:48+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T19:29:48+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T19:29:48+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T19:29:48+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T19:29:48+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T19:29:48+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T19:29:48+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T19:29:51+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T19:29:51+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T19:29:51+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T20:48:54+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T20:48:54+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T20:48:54+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T20:48:54+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T20:48:54+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T20:48:54+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T20:48:54+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T20:48:54+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T20:48:54+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T20:48:56+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T20:48:56+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = 'AVITO_3'RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T20:48:56+03:00" level=error msg="expected 0 arguments, got 1 : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T20:49:18+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T20:49:18+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T20:49:18+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T20:49:18+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T20:49:18+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T20:49:18+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T20:49:18+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T20:49:18+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T20:49:18+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T20:49:20+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T20:49:20+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = 'AVITO_3'RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T20:49:20+03:00" level=trace msg="SQL query: UPDATE user_in_segmentSET out_date = current_timestampWHERE segment_id = $1" func="AvitoTechTask/internal/segment/db.(*repository).deleteFromUsers()" file="postgres.go:73"
time="2023-08-29T20:50:30+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T20:50:30+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T20:50:30+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T20:50:30+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T20:50:30+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T20:50:30+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:21"
time="2023-08-29T20:50:30+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T20:50:30+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T20:50:30+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T20:50:37+03:00" level=info msg="start delete-segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:43"
time="2023-08-29T20:50:37+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T20:50:37+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:46"
time="2023-08-29T20:55:14+03:00" level=info msg="create router" func="main.main()" file="app.go:33"
time="2023-08-29T20:55:14+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-29T20:55:14+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:48"
time="2023-08-29T20:55:14+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:27"
time="2023-08-29T20:55:14+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:35"
time="2023-08-29T20:55:14+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-29T20:55:14+03:00" level=info msg="start application" func="main.start()" file="app.go:79"
time="2023-08-29T20:55:14+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:81"
time="2023-08-29T20:55:14+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:93"
time="2023-08-29T20:55:16+03:00" level=info msg="segment segment_name: AVITO_1 is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:39"
time="2023-08-29T20:55:16+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-29T20:55:16+03:00" level=trace msg="SQL query: UPDATE user_in_segmentSET out_date = current_timestampWHERE segment_id = $1" func="AvitoTechTask/internal/segment/db.(*repository).deleteFromUsers()" file="postgres.go:72"
time="2023-08-30T12:23:03+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:23:03+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:23:03+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:23:03+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T12:23:03+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T12:23:03+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:23:03+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:23:03+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:23:03+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:23:28+03:00" level=trace msg="SQL query: SELECT in_date,       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:23:28+03:00" level=error msg="Something wrong with scanning segmentName from row of SQL-request" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:67"
time="2023-08-30T12:23:28+03:00" level=error msg="error with getting history for user 1000 for year:2023 for month:8" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:170"
time="2023-08-30T12:23:28+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T12:25:54+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:25:54+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:25:54+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:25:54+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T12:25:54+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T12:25:54+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:25:54+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:25:54+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:25:54+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:25:57+03:00" level=trace msg="SQL query: SELECT in_date,       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:25:57+03:00" level=error msg="Something wrong with scanning segmentName from row of SQL-request" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:67"
time="2023-08-30T12:25:57+03:00" level=error msg="error with getting history for user 1000 for year:2023 for month:8;\n error: can't scan into dest[0]: unable to assign to *string" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:170"
time="2023-08-30T12:25:57+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T12:30:04+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:30:04+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:30:04+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:30:04+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T12:30:04+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T12:30:04+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:30:04+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:30:04+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:30:04+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:30:17+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:30:17+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:30:17+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:30:17+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T12:30:17+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T12:30:17+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:30:17+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:30:17+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:30:17+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:30:21+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:30:21+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:30:21+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T12:30:58+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:30:58+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:30:58+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T12:38:30+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:38:30+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:38:30+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:38:30+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:38:30+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:38:30+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:38:30+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:38:30+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:38:30+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:38:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:38:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:38:34+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:40:34+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:40:34+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:40:34+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:40:34+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:40:34+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:40:34+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:40:34+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:40:34+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:40:34+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:40:36+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2   AND in_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:40:36+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MM:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < $2 + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:40:36+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:46:35+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:46:35+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:46:35+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:46:35+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:46:35+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:46:35+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:46:35+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:46:35+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:46:35+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:46:40+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP($2,'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:46:40+03:00" level=error msg="SQL error: function to_timestamp(timestamp with time zone, unknown) does not exist, details: , where: , code: 42883, SQL-state: 42883" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:59"
time="2023-08-30T12:46:40+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP($2,'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:46:40+03:00" level=error msg="SQL error: function to_timestamp(timestamp without time zone, unknown) does not exist, details: , where: , code: 42883, SQL-state: 42883" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:59"
time="2023-08-30T12:46:40+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:51:44+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:51:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:51:44+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:51:44+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:51:44+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:51:44+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:51:44+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:51:44+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:51:44+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:51:49+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:51:49+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:54"
time="2023-08-30T12:51:49+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:54:22+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:54:22+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:54:22+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:54:22+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:54:22+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:54:22+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:54:22+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:54:22+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:54:22+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:54:25+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:53"
time="2023-08-30T12:54:25+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:53"
time="2023-08-30T12:54:25+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:55:25+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:55:25+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:55:25+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:55:25+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:30"
time="2023-08-30T12:55:25+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:38"
time="2023-08-30T12:55:25+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:55:25+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:55:25+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:55:25+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:55:27+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:53"
time="2023-08-30T12:55:27+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:53"
time="2023-08-30T12:55:27+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:180"
time="2023-08-30T12:57:48+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T12:57:48+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T12:57:48+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T12:57:48+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T12:57:48+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T12:57:48+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T12:57:48+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T12:57:48+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T12:57:48+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T12:57:52+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:57:52+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T12:57:52+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:05:57+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:05:57+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:05:57+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:05:57+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:32"
time="2023-08-30T13:05:57+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:40"
time="2023-08-30T13:05:57+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:05:57+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:05:57+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:05:57+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:06:02+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:06:02+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:06:02+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:182"
time="2023-08-30T13:07:07+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:07:07+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:07:07+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:182"
time="2023-08-30T13:07:42+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:07:42+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:07:42+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:07:42+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:32"
time="2023-08-30T13:07:42+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:40"
time="2023-08-30T13:07:42+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:07:42+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:07:42+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:07:42+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:07:45+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:07:45+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:07:45+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:182"
time="2023-08-30T13:08:30+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:08:30+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:08:30+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:08:30+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:32"
time="2023-08-30T13:08:30+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:40"
time="2023-08-30T13:08:30+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:08:30+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:08:30+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:08:30+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:08:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:08:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:08:34+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:08:54+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:08:54+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:08:54+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:09:09+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:09:09+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:09:09+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:10:08+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:10:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:10:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:10:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:32"
time="2023-08-30T13:10:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:40"
time="2023-08-30T13:10:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:10:08+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:10:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:10:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:10:15+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:10:15+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:10:15+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:11:10+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:11:10+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:11:10+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:11:10+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:32"
time="2023-08-30T13:11:10+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:40"
time="2023-08-30T13:11:10+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:11:10+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:11:10+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:11:10+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:11:17+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:11:17+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:11:17+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:181"
time="2023-08-30T13:12:22+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:12:22+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:12:22+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:12:22+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T13:12:22+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T13:12:22+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:12:22+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:12:22+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:12:22+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:12:28+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:12:28+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:12:28+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T13:12:49+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T13:12:49+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T13:12:49+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T13:12:49+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T13:12:49+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T13:12:49+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T13:12:49+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T13:12:49+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T13:12:49+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T13:12:54+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:12:54+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:12:54+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T13:17:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:17:34+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:17:34+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T13:17:43+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:17:43+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T13:17:43+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T15:46:27+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:46:27+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:30"
time="2023-08-30T15:52:14+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:52:14+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T15:52:35+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:52:35+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T15:57:46+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:57:46+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T15:58:13+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:58:13+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T15:58:58+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T15:58:58+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T16:00:25+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T16:00:25+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T16:01:25+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T16:01:25+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:32"
time="2023-08-30T16:01:25+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:46"
time="2023-08-30T16:01:25+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T16:01:25+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T16:01:25+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T16:01:25+03:00" level=info msg="start application" func="main.start()" file="app.go:77"
time="2023-08-30T16:01:25+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:79"
time="2023-08-30T16:01:25+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:91"
time="2023-08-30T16:01:31+03:00" level=info msg="create router" func="main.main()" file="app.go:31"
time="2023-08-30T16:01:31+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T16:04:40+03:00" level=info msg="create router" func="main.main()" file="app.go:32"
time="2023-08-30T16:04:40+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T16:04:40+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:53"
time="2023-08-30T16:04:40+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T16:04:40+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T16:04:40+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T16:04:40+03:00" level=info msg="start application" func="main.start()" file="app.go:84"
time="2023-08-30T16:04:40+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:86"
time="2023-08-30T16:04:40+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:98"
time="2023-08-30T17:29:09+03:00" level=info msg="create router" func="main.main()" file="app.go:32"
time="2023-08-30T17:29:09+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T17:29:26+03:00" level=info msg="create router" func="main.main()" file="app.go:32"
time="2023-08-30T17:29:26+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T17:29:26+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:53"
time="2023-08-30T17:29:26+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T17:29:26+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T17:29:26+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T17:29:26+03:00" level=info msg="start application" func="main.start()" file="app.go:84"
time="2023-08-30T17:29:26+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:86"
time="2023-08-30T17:29:26+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:98"
time="2023-08-30T17:34:17+03:00" level=info msg="create router" func="main.main()" file="app.go:32"
time="2023-08-30T17:34:17+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T17:34:17+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:53"
time="2023-08-30T17:34:17+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T17:34:17+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T17:34:17+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T17:34:17+03:00" level=info msg="start application" func="main.start()" file="app.go:84"
time="2023-08-30T17:34:17+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:86"
time="2023-08-30T17:34:17+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:98"
time="2023-08-30T17:34:19+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:19+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:19+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T17:34:36+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:36+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:36+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T17:34:38+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:38+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:38+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T17:34:56+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:56+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:34:56+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T17:35:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:35:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:35:08+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T17:36:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:36:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T17:36:08+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:179"
time="2023-08-30T18:34:53+03:00" level=info msg="create router" func="main.main()" file="app.go:39"
time="2023-08-30T18:34:53+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T18:34:53+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:60"
time="2023-08-30T18:34:53+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T18:34:53+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T18:34:53+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T18:34:53+03:00" level=info msg="start application" func="main.start()" file="app.go:75"
time="2023-08-30T18:34:53+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:77"
time="2023-08-30T18:34:53+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:89"
time="2023-08-30T19:48:30+03:00" level=info msg="create router" func="main.main()" file="app.go:41"
time="2023-08-30T19:48:30+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T19:48:30+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:62"
time="2023-08-30T19:48:30+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T19:48:30+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T19:48:30+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T19:48:30+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:77"
time="2023-08-30T19:48:30+03:00" level=info msg="start application" func="main.start()" file="app.go:80"
time="2023-08-30T19:48:30+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:82"
time="2023-08-30T19:48:30+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:94"
time="2023-08-30T19:50:06+03:00" level=info msg="create router" func="main.main()" file="app.go:41"
time="2023-08-30T19:50:06+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T19:50:06+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:62"
time="2023-08-30T19:50:06+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T19:50:06+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T19:50:06+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T19:50:06+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:77"
time="2023-08-30T19:50:06+03:00" level=info msg="start application" func="main.start()" file="app.go:80"
time="2023-08-30T19:50:06+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:82"
time="2023-08-30T19:50:06+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:94"
time="2023-08-30T19:51:19+03:00" level=info msg="create router" func="main.main()" file="app.go:41"
time="2023-08-30T19:51:19+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T19:51:19+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:62"
time="2023-08-30T19:51:19+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T19:51:19+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T19:51:19+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T19:51:19+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:77"
time="2023-08-30T19:51:19+03:00" level=info msg="start application" func="main.start()" file="app.go:80"
time="2023-08-30T19:51:19+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:82"
time="2023-08-30T19:51:19+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:94"
time="2023-08-30T19:52:27+03:00" level=info msg="create router" func="main.main()" file="app.go:41"
time="2023-08-30T19:52:27+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T19:52:27+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:62"
time="2023-08-30T19:52:27+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T19:52:27+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T19:52:27+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T19:52:27+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:77"
time="2023-08-30T19:52:27+03:00" level=info msg="start application" func="main.start()" file="app.go:80"
time="2023-08-30T19:52:27+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:82"
time="2023-08-30T19:52:27+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:94"
time="2023-08-30T21:04:52+03:00" level=info msg="create router" func="main.main()" file="app.go:41"
time="2023-08-30T21:04:52+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T21:04:52+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:62"
time="2023-08-30T21:04:52+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T21:04:52+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T21:04:52+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T21:04:52+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:77"
time="2023-08-30T21:04:52+03:00" level=info msg="start application" func="main.start()" file="app.go:80"
time="2023-08-30T21:04:52+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:82"
time="2023-08-30T21:04:52+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:94"
time="2023-08-30T21:05:09+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T21:05:09+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T21:05:09+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T21:45:53+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T21:45:53+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T21:46:44+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T21:46:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T21:51:08+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T21:51:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T21:51:08+03:00" level=error msg="SQL error: cannot insert multiple commands into a prepared statement, details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:86"
time="2023-08-30T21:51:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:100"
time="2023-08-30T21:51:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T21:51:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T21:51:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T21:51:08+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:114"
time="2023-08-30T21:51:08+03:00" level=info msg="start application" func="main.start()" file="app.go:117"
time="2023-08-30T21:51:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:119"
time="2023-08-30T21:51:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:131"
time="2023-08-30T22:40:31+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T22:40:31+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T22:40:45+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T22:40:45+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T22:40:59+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T22:40:59+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T22:40:59+03:00" level=error msg="SQL error: cannot insert multiple commands into a prepared statement, details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:86"
time="2023-08-30T22:40:59+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:100"
time="2023-08-30T22:40:59+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T22:40:59+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T22:40:59+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T22:40:59+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:114"
time="2023-08-30T22:40:59+03:00" level=info msg="start application" func="main.start()" file="app.go:117"
time="2023-08-30T22:40:59+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:119"
time="2023-08-30T22:40:59+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:131"
time="2023-08-30T22:41:23+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T22:41:23+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T22:41:59+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T22:41:59+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:02:29+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:02:29+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:06:00+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:06:00+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:28:41+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:28:41+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:28:41+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:28:41+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:28:41+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:28:41+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:28:41+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:28:41+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:28:41+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:28:41+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:28:41+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:29:37+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:29:37+03:00" level=error msg="SQL error: terminating connection due to administrator command, details: , where: , code: 57P01, SQL-state: 57P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:29:37+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:29:37+03:00" level=error msg="error with getting history for user 1000 for year:2023 for month:8; error: failed to connect to `host=localhost user=postgres database=avito_tech_task`: server error (FATAL: database \"avito_tech_task\" does not exist (SQLSTATE 3D000))" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:217"
time="2023-08-30T23:29:37+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:32:07+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:32:07+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:32:07+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:32:07+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:32:07+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:32:07+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:32:07+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:32:07+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:32:07+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:32:07+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:32:07+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:32:12+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:32:12+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:32:12+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:32:12+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:32:12+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:32:43+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:32:43+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:32:43+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:32:43+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:32:43+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:37:02+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:37:02+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:37:02+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:37:02+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:37:02+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:40:29+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:40:29+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:40:29+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:40:29+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:40:29+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:41:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:08+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:08+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:08+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:08+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:41:11+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:11+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:11+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:11+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:11+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:41:14+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:14+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:14+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:14+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:14+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:41:18+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:18+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:18+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:18+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:18+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:41:55+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:55+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:55+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:41:55+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:41:55+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:42:15+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:42:15+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:42:15+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:42:15+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:42:15+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:45:06+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:45:06+03:00" level=error msg="SQL error: terminating connection due to administrator command, details: , where: , code: 57P01, SQL-state: 57P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:45:06+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:45:06+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:45:06+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:47:19+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:47:19+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:47:19+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:47:19+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:47:19+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:47:20+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:47:20+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:47:20+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:47:20+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:47:20+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:48:48+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:48:48+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:48:48+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:48:48+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:48:48+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:48:48+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:48:48+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:48:48+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:48:48+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:48:48+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:48:48+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:48:51+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:48:51+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:48:51+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:48:51+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:48:51+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:48:52+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:48:52+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:48:52+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:48:52+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:48:52+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-30T23:51:08+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:51:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:51:08+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:51:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:51:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:51:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:51:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:51:08+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:51:08+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:51:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:51:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:51:11+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:53:49+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:53:49+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:54:01+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:54:01+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:54:01+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:54:01+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:54:01+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:54:01+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:54:01+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:54:01+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:54:01+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:54:01+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:54:01+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:54:09+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:54:09+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:54:09+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:54:09+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:54:09+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:54:09+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:54:09+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:54:09+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:54:09+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:54:09+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:54:09+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:54:13+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:54:48+03:00" level=error msg="SQL error: relation \"user_in_segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:54:48+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:54:50+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:54:50+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:54:50+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-30T23:54:50+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-30T23:54:50+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-30T23:54:50+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-30T23:54:50+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-30T23:54:50+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-30T23:54:50+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-30T23:54:50+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-30T23:54:50+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-30T23:54:53+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-30T23:55:22+03:00" level=error msg="SQL error: relation \"segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:57"
time="2023-08-30T23:55:23+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-30T23:55:23+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-30T23:55:24+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:04:44+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:04:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:04:44+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:04:48+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:04:48+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:04:48+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:04:48+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T00:04:48+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T00:04:48+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T00:04:48+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T00:04:48+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T00:04:48+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T00:04:48+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T00:04:48+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T00:04:53+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:05:08+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:05:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:05:08+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:05:08+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T00:05:08+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T00:05:08+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T00:05:08+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T00:05:08+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T00:05:08+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T00:05:08+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T00:05:08+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T00:05:12+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:05:12+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:05:12+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T00:06:39+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:06:39+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:06:39+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T00:45:00+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:45:00+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:45:10+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:45:10+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:45:10+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:45:10+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T00:45:10+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T00:45:10+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T00:45:10+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T00:45:10+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T00:45:10+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T00:45:10+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T00:45:10+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T00:45:13+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:45:13+03:00" level=error msg="Something wrong with getting rows of SQL-request" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:73"
time="2023-08-31T00:45:13+03:00" level=error msg="error with getting history for user 1000 for year:2023 for month:8; error: ERROR: permission denied for table user_in_segment (SQLSTATE 42501)" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:217"
time="2023-08-31T00:45:13+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T00:45:17+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:45:17+03:00" level=error msg="Something wrong with getting rows of SQL-request" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:73"
time="2023-08-31T00:45:17+03:00" level=error msg="error with getting history for user 1000 for year:2023 for month:8; error: ERROR: permission denied for table user_in_segment (SQLSTATE 42501)" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:217"
time="2023-08-31T00:45:17+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T00:47:30+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:47:30+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:47:30+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:47:30+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T00:47:30+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T00:47:30+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T00:47:30+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T00:47:30+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T00:47:30+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T00:47:30+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T00:47:30+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T00:47:33+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:47:33+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:47:33+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T00:55:59+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:55:59+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:56:18+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T00:56:18+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T00:56:18+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T00:56:18+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T00:56:18+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T00:56:18+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T00:56:18+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T00:56:18+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T00:56:18+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T00:56:18+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T00:56:18+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T00:56:20+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:56:20+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T00:56:20+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T08:51:15+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T08:51:15+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T08:52:01+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T08:52:01+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T08:55:21+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T08:55:21+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T08:55:21+03:00" level=error msg="SQL error: syntax error at or near \"$1\", details: , where: , code: 42601, SQL-state: 42601" func="main.initDB()" file="app.go:90"
time="2023-08-31T08:55:21+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:104"
time="2023-08-31T08:55:21+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T08:55:21+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T08:55:21+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T08:55:21+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:118"
time="2023-08-31T08:55:21+03:00" level=info msg="start application" func="main.start()" file="app.go:121"
time="2023-08-31T08:55:21+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:123"
time="2023-08-31T08:55:21+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:135"
time="2023-08-31T08:55:27+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T08:55:27+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T08:55:27+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T12:54:12+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T12:54:12+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T12:54:12+03:00" level=info msg="Not inited db" func="main.main()" file="app.go:48"
time="2023-08-31T12:54:12+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:118"
time="2023-08-31T12:54:12+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T12:54:12+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T12:54:12+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T12:54:12+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:132"
time="2023-08-31T12:54:12+03:00" level=info msg="start application" func="main.start()" file="app.go:135"
time="2023-08-31T12:54:12+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:137"
time="2023-08-31T12:54:12+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:149"
time="2023-08-31T12:54:41+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T12:54:41+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T12:54:41+03:00" level=error msg="SQL error: relation \"segment\" does not exist, details: , where: , code: 42P01, SQL-state: 42P01" func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:34"
time="2023-08-31T12:56:14+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T12:56:14+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T12:56:14+03:00" level=error msg="expected 0 arguments, got 1" func="main.main()" file="app.go:48"
time="2023-08-31T12:56:14+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:118"
time="2023-08-31T12:56:14+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T12:56:14+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T12:56:14+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T12:56:14+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:132"
time="2023-08-31T12:56:14+03:00" level=info msg="start application" func="main.start()" file="app.go:135"
time="2023-08-31T12:56:14+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:137"
time="2023-08-31T12:56:14+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:149"
time="2023-08-31T12:56:53+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T12:56:53+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T12:56:53+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:118"
time="2023-08-31T12:56:53+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T12:56:53+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T12:56:53+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T12:56:53+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:132"
time="2023-08-31T12:56:53+03:00" level=info msg="start application" func="main.start()" file="app.go:135"
time="2023-08-31T12:56:53+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:137"
time="2023-08-31T12:56:53+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:149"
time="2023-08-31T12:57:03+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T12:57:03+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T12:57:19+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T12:57:19+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T12:57:19+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:118"
time="2023-08-31T12:57:19+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T12:57:19+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T12:57:19+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T12:57:19+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:132"
time="2023-08-31T12:57:19+03:00" level=info msg="start application" func="main.start()" file="app.go:135"
time="2023-08-31T12:57:19+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:137"
time="2023-08-31T12:57:19+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:149"
time="2023-08-31T12:57:23+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T12:57:23+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T13:08:00+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:08:00+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:08:00+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T13:08:00+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T13:08:00+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T13:08:00+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T13:08:00+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T13:08:00+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:133"
time="2023-08-31T13:08:00+03:00" level=info msg="start application" func="main.start()" file="app.go:136"
time="2023-08-31T13:08:00+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:138"
time="2023-08-31T13:08:00+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:150"
time="2023-08-31T13:08:12+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T13:08:12+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T13:08:15+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:146"
time="2023-08-31T13:08:15+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, current_timestamp + $3 * (interval '1 day'))" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegmentsWithPeriod()" file="postgres.go:130"
time="2023-08-31T13:08:29+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:08:29+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:08:29+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T13:08:39+03:00" level=info msg="start add-user-segments with period" func="AvitoTechTask/internal/userinsegment.(*handler).AddUserSegments()" file="handler.go:146"
time="2023-08-31T13:08:39+03:00" level=trace msg="SQL query: INSERT INTO user_in_segment    (user_id, segment_id, in_date, out_date)VALUES ($1, (SElECT segment_id FROM segment WHERE segment_name = $2),        current_timestamp, current_timestamp + $3 * (interval '1 day'))" func="AvitoTechTask/internal/userinsegment/db.repository.AddSegmentsWithPeriod()" file="postgres.go:130"
time="2023-08-31T13:08:42+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:08:42+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:08:42+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T13:40:02+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:40:02+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:41:08+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:41:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:42:42+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:42:42+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:43:07+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:43:07+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:48:56+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:48:56+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:49:08+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:49:08+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:50:44+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T13:50:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T13:50:44+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T13:50:44+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T13:50:44+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T13:50:44+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T13:50:44+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T13:50:44+03:00" level=info msg="start swagger-doc" func="main.start()" file="app.go:133"
time="2023-08-31T13:50:44+03:00" level=info msg="start application" func="main.start()" file="app.go:136"
time="2023-08-31T13:50:44+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:138"
time="2023-08-31T13:50:44+03:00" level=info msg="server is listening port %s:%s0.0.0.01235" func="main.start()" file="app.go:150"
time="2023-08-31T13:51:13+03:00" level=trace msg="SQL query: SELECT TO_CHAR(in_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND in_date >= $2  AND in_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:51:13+03:00" level=trace msg="SQL query: SELECT TO_CHAR(out_date, 'YYYY/MM/DD HH24:MI:SS'),       (SELECT segment_name        FROM segment        WHERE user_in_segment.segment_id = segment.segment_id)FROM user_in_segmentWHERE user_id = $1   AND out_date >= $2   AND out_date < TO_TIMESTAMP(cast($2 as TEXT),'YYYY/MM/DD HH24:MI:SS') + interval '1 month'" func="AvitoTechTask/internal/userinsegment/db.repository.addToHistory()" file="postgres.go:52"
time="2023-08-31T13:51:13+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetUserHistory()" file="handler.go:220"
time="2023-08-31T14:39:06+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T14:39:06+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T14:39:06+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:54"
time="2023-08-31T14:40:05+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T14:40:05+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T14:40:05+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T14:40:05+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T14:40:05+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T14:40:05+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T14:40:05+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T14:40:05+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T14:40:05+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T14:40:05+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T14:40:05+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T14:40:18+03:00" level=info msg="there is segment_name: AVITO_VOICE_MESSAGES" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T14:40:18+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T14:40:47+03:00" level=info msg="there is segment_name: AVITO_VOICE_MESSAGES" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T14:40:47+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T14:41:19+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T14:41:19+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T14:41:19+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T14:44:05+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T14:44:05+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T14:45:06+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T14:45:06+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T14:46:19+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_22" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T14:46:19+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T14:47:09+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T14:47:09+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T14:47:09+03:00" level=trace msg="SQL query: UPDATE user_in_segmentSET out_date = current_timestampWHERE segment_id = $1 AND out_date is null" func="AvitoTechTask/internal/segment/db.(*repository).deleteFromUsers()" file="postgres.go:72"
time="2023-08-31T15:04:11+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T15:04:11+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T15:07:03+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T15:07:03+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T15:10:08+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:10:08+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:10:58+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:10:58+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:11:16+03:00" level=info msg="there is segment_name: AVITO_SEG_TEST_2" func="AvitoTechTask/internal/segment.(*handler).CreateSegment()" file="handler.go:80"
time="2023-08-31T15:11:16+03:00" level=trace msg="SQL query: INSERT INTO segment     (segment_name)VALUES ($1) " func="AvitoTechTask/internal/segment/db.(*repository).Create()" file="postgres.go:31"
time="2023-08-31T15:11:28+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:11:28+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:11:43+03:00" level=info msg="segment segment_name: AVITO_SEG_TEST_2 is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:11:43+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:12:00+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T15:12:00+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T15:12:00+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T15:12:00+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T15:12:00+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T15:12:00+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T15:12:00+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T15:12:00+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T15:12:00+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T15:12:00+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T15:12:00+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T15:12:16+03:00" level=info msg="segment segment_name: AVITO_2 is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:12:16+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:12:16+03:00" level=trace msg="SQL query: UPDATE user_in_segmentSET out_date = current_timestampWHERE segment_id = $1 AND out_date is null" func="AvitoTechTask/internal/segment/db.(*repository).deleteFromUsers()" file="postgres.go:72"
time="2023-08-31T15:12:24+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:12:24+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:12:24+03:00" level=trace msg="SQL query: UPDATE user_in_segmentSET out_date = current_timestampWHERE segment_id = $1 AND out_date is null" func="AvitoTechTask/internal/segment/db.(*repository).deleteFromUsers()" file="postgres.go:72"
time="2023-08-31T15:13:23+03:00" level=info msg="segment segment_name: AVITO_24 is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:13:23+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:13:23+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:54"
time="2023-08-31T15:14:01+03:00" level=info msg="segment segment_name: AVITO_VOICE_MESSAGES_2 is deleting" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:50"
time="2023-08-31T15:14:01+03:00" level=trace msg="SQL query: UPDATE segment SET active = false WHERE segment_name = $1RETURNING segment_id" func="AvitoTechTask/internal/segment/db.(*repository).Delete()" file="postgres.go:54"
time="2023-08-31T15:14:01+03:00" level=error msg="no rows in result set : something wrong with deleting user from segment" func="AvitoTechTask/internal/segment.(*handler).DeleteSegment()" file="handler.go:54"
time="2023-08-31T15:15:48+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:15:48+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:15:48+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:16:12+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:16:12+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:16:12+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:20:47+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T15:20:47+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T15:20:47+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T15:20:47+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T15:20:47+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T15:20:47+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T15:20:47+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T15:20:47+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T15:20:47+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T15:20:47+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T15:20:47+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T15:20:57+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:20:57+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:20:57+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:23:45+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:23:45+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:23:45+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:24:37+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:24:37+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:24:37+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:26:20+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:26:20+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:26:20+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:26:40+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:26:40+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:26:40+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:33:23+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:33:23+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:33:23+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:39:21+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:39:21+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:39:21+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:39:47+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T15:39:47+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T15:39:47+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T15:39:47+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T15:39:47+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T15:39:47+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T15:39:47+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T15:39:47+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T15:39:47+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T15:39:47+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T15:39:47+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T15:39:50+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:39:50+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:39:50+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:40:51+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:40:51+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:40:51+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:40:58+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:40:58+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:40:58+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:41:04+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:41:04+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:41:04+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:45:06+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:45:06+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:45:06+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:45:28+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:45:28+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:45:28+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:46:15+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:46:15+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:46:15+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:47:00+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:47:00+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:47:00+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:48:58+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:48:58+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:48:58+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T15:52:06+03:00" level=info msg="geting list of segment for user with id 1 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T15:52:06+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_date)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T15:52:06+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T16:19:25+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:19:25+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:19:25+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:19:25+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:19:25+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:19:25+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:19:25+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:19:25+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:19:25+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T16:19:25+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T16:19:25+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T16:21:44+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:21:44+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:21:44+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:21:44+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:21:44+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:21:44+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:21:44+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:21:44+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:21:44+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T16:21:44+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T16:21:44+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T16:30:29+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:30:29+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:30:29+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:30:29+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:30:29+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:30:29+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:30:29+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:30:29+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:30:29+03:00" level=info msg="start application" func="main.start()" file="app.go:138"
time="2023-08-31T16:30:29+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:140"
time="2023-08-31T16:30:29+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:152"
time="2023-08-31T16:39:17+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:39:17+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:39:17+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:39:17+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:39:17+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:39:17+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:39:17+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:39:17+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:39:17+03:00" level=info msg="start application" func="main.start()" file="app.go:141"
time="2023-08-31T16:39:17+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:143"
time="2023-08-31T16:39:17+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:155"
time="2023-08-31T16:44:16+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:44:16+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:44:16+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:44:16+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:44:16+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:44:16+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:44:16+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:44:16+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:44:16+03:00" level=info msg="start application" func="main.start()" file="app.go:141"
time="2023-08-31T16:44:16+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:143"
time="2023-08-31T16:44:16+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:155"
time="2023-08-31T16:44:35+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:44:35+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:44:36+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:44:36+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:44:36+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:44:36+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:44:36+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:44:36+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:44:36+03:00" level=info msg="start application" func="main.start()" file="app.go:141"
time="2023-08-31T16:44:36+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:143"
time="2023-08-31T16:44:36+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:155"
time="2023-08-31T16:46:12+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:46:12+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:46:12+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:46:12+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:46:12+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:46:12+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:46:12+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:46:12+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:46:12+03:00" level=info msg="start application" func="main.start()" file="app.go:141"
time="2023-08-31T16:46:12+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:143"
time="2023-08-31T16:46:12+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:155"
time="2023-08-31T16:52:02+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:52:02+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:52:02+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:52:02+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:52:02+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:52:02+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:52:02+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:52:02+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:52:02+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T16:52:02+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T16:52:02+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T16:57:59+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T16:57:59+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T16:57:59+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T16:57:59+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T16:57:59+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T16:57:59+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T16:57:59+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T16:57:59+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T16:57:59+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T16:57:59+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T16:57:59+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T17:00:45+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T17:00:45+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T17:00:45+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T17:00:45+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T17:00:45+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T17:00:45+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T17:00:45+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T17:00:45+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T17:00:45+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T17:00:45+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T17:00:45+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T17:31:55+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T17:31:55+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T17:31:55+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T17:31:55+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T17:31:55+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T17:31:55+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T17:31:55+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T17:31:55+03:00" level=info msg="start swagger-doc" func="main.registerHandlers()" file="app.go:131"
time="2023-08-31T17:31:55+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T17:31:55+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T17:56:03+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T17:56:03+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T18:18:49+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T18:18:49+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T18:18:49+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T18:18:49+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T18:18:49+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T18:18:49+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T18:18:49+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T18:18:49+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T18:18:49+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T18:18:49+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T18:21:11+03:00" level=error msg="there is no user_id in context or its wrong value" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:62"
time="2023-08-31T18:21:11+03:00" level=info msg="geting list of segment for user with id 0 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T18:21:11+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_timestamp)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T18:21:11+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T18:21:24+03:00" level=error msg="there is no user_id in context or its wrong value" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:62"
time="2023-08-31T18:21:24+03:00" level=info msg="geting list of segment for user with id 0 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T18:21:24+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_timestamp)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T18:21:24+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
time="2023-08-31T18:21:49+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T18:21:49+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T18:21:49+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T18:21:49+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T18:21:49+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T18:21:49+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T18:21:49+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T18:21:49+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T18:21:49+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T18:21:49+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T18:22:11+03:00" level=info msg="create router" func="main.main()" file="app.go:42"
time="2023-08-31T18:22:11+03:00" level=info msg="create and get instance of configuration object" func="AvitoTechTask/internal/configuration.GetConfig.func1()" file="config.go:31"
time="2023-08-31T18:22:11+03:00" level=info msg="Table " func="main.initDB()" file="app.go:94"
time="2023-08-31T18:22:11+03:00" level=info msg="postgres client successfully connected" func="main.startRepositories()" file="app.go:119"
time="2023-08-31T18:22:11+03:00" level=info msg="register user handler" func="AvitoTechTask/internal/userinsegment.NewHandler()" file="handler.go:31"
time="2023-08-31T18:22:11+03:00" level=info msg="register user handler methods" func="AvitoTechTask/internal/userinsegment.(*handler).Register()" file="handler.go:39"
time="2023-08-31T18:22:11+03:00" level=info msg="register segment handler" func="AvitoTechTask/internal/segment.NewHandler()" file="handler.go:20"
time="2023-08-31T18:22:11+03:00" level=info msg="start application" func="main.start()" file="app.go:142"
time="2023-08-31T18:22:11+03:00" level=info msg="listen tcp" func="main.start()" file="app.go:144"
time="2023-08-31T18:22:11+03:00" level=info msg="server is listening port %s:%s0.0.0.01234" func="main.start()" file="app.go:156"
time="2023-08-31T18:22:16+03:00" level=info msg="geting list of segment for user with id 1000 started" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:66"
time="2023-08-31T18:22:16+03:00" level=trace msg="SQL query: SELECT segment_name FROM (SELECT segment_id AS s_id      FROM user_in_segment  WHERE user_id = $1    AND (out_date IS NULL             OR out_date > current_timestamp)  ) AS active_u_segments    INNER JOIN segment ON s_id = segment.segment_id" func="AvitoTechTask/internal/userinsegment/db.repository.GetSegments()" file="postgres.go:153"
time="2023-08-31T18:22:16+03:00" level=info msg="got list of segments" func="AvitoTechTask/internal/userinsegment.(*handler).GetListOfSegments()" file="handler.go:80"
